import{_ as b,r as _,o as s,c as i,d as t,$ as g,t as r,m as d,F as w,E as u,n as m,b as S,w as k,e as y}from"./app.b16ceeda.js";const D={props:{fw:Object,options:Object,showSingleDownloads:Boolean,hasFirmwares:Object,showDots:Boolean},data(){return{expanded:!1,showDownloadDropdown:!1,signed:"unknown",fwData:[],tags:[]}},mounted(){const a=this.fw.devices.filter(n=>this.shouldSigningStatusBeChecked(n,this.fw.osStr));a.length&&!this.fw.rc&&this.getSigningStatus(this.fw.build,a[0],this.fw.osStr,this.fw.beta||this.fw.rc,this.fw.uniqueBuild),this.tags=[].filter(n=>n.val)},async created(){},methods:{async getSigningStatus(a,n,e,v){var o=new XMLHttpRequest;o.open("GET",`https://api.ipsw.me/v4/ipsw/${n}/${a}`),o.setRequestHeader("Accept","application/json"),o.onreadystatechange=function(){if(this.readyState===4&&this.status==200){let f=JSON.parse(this.responseText);var c=document.getElementById(`signing-status-${e}-${a}`),h=document.getElementById(`signing-text-${e}-${a}`);if(v)if(f=f.filter(l=>l.buildid==a),f.length)f=f[0];else return;f.signed?(c.classList.add("fa-check"),h.innerHTML="Signed"):(c.classList.add("fa-times"),h.innerHTML="Not signed")}},o.send()},shouldSigningStatusBeChecked(a,n){return["bridgeOS","iOS","iPadOS","macOS","HomePod Software","tvOS","watchOS","Apple TV Software","iPhoneOS","visionOS"].includes(n)&&!["iPhone1,1","iPhone1,2","iPod1,1","AudioAccessory1,1","AudioAccessory6,1"].includes(a)},openDownloadDropdown(){var a=document.getElementsByClassName("downloadDropdown active");for(let n of a)n.classList.remove("active");this.expanded=!this.expanded,this.showDownloadDropdown=!this.showDownloadDropdown},getFwData(){return fetch(`/pageData/firmware/${[this.fw.osStr,this.fw.uniqueBuild].join(";")}.json`.replace(/\.html/g,""),{method:"GET",headers:{"Content-Type":"application/json"}}).then(a=>a.text()).then(a=>JSON.parse(a))}}},x={key:0,style:{"font-weight":"600"}},O={style:{"padding-inline":"0",background:"none","font-size":"0.95em"}},B={key:2,class:"fas fa-box-open",style:{"padding-left":"8px"}},C={key:4},T={key:5,class:"releaseBetaInternalWrapper"},V=["id"],I=["id"],j={key:0,style:{"text-align":"right"},class:"releasedStr"},A={class:"iconFlex"},N={key:0},E=["href"],R=["href"],F={key:0},L=["href"],P=["href"],z={class:"iconChild"},q={style:{cursor:"pointer"}},H={key:0,class:"expandedView"},J={key:0,class:"custom-container releasedInfo"},M={style:{display:"flex","flex-flow":"row wrap","align-content":"space-between"}},G={style:{"padding-left":"0","list-style-type":"none"}},U={class:"releasedInfo"},W={key:1,class:"custom-container"},X={key:2,class:"custom-container"},K={class:"custom-container"},Q=["href"],Y={key:3,class:"custom-container"},Z=["href"],p={key:1,style:{"border-bottom":"1px solid var(--c-border)",width:"calc(100% - 24px)",margin:"auto","margin-block":"-1px"}};function $(a,n,e,v,o,c){const h=_("grid"),f=_("router-link");return s(),i(w,null,[t("div",{class:"wrapper firmwareVersionTableElement",onClick:n[2]||(n[2]=l=>o.expanded=!o.expanded)},[t("div",{class:"firmwareAndReleasedStr",style:g({width:`calc(100% - ${(1+e.showSingleDownloads)*32}px)`})},[t("div",null,[e.options.showVersionString?(s(),i("span",x,r([e.fw.osStr,e.fw.version].join(" ")),1)):d("",!0),e.fw.build&&(o.expanded||this.fw.duplicateVersion||this.options.showBuildNumber)?(s(),i(w,{key:1},[n[3]||(n[3]=t("i",{style:{"margin-inline":"8px","font-size":".3em"},class:"fas fa-circle"},null,-1)),t("code",O,r(this.fw.build),1)],64)):d("",!0),this.fw.preinstalled.some(l=>this.fw.devices.includes(l))&&(this.fw.filteredDownloads.length||this.fw.filteredOtas.length)?(s(),i("i",B)):d("",!0),n[5]||(n[5]=t("div",{style:{"padding-inline":".25em",display:"inline-block"}},null,-1)),e.showDots||o.expanded?(s(),i("div",{key:3,class:u([e.fw.internal?"internal":e.fw.beta||e.fw.rc?"beta":"release","releaseBetaInternalWrapper"])},[t("span",null,r(e.fw.internal?"internal":e.fw.rc?"rc":e.fw.beta?"beta":"release"),1)],2)):(e.fw.internal||e.fw.beta||e.fw.rc)&&Object.keys(e.hasFirmwares).filter(l=>e.hasFirmwares[l]).length==1?(s(),i("span",C,[t("i",{style:{"margin-left":"0px","font-size":".4em"},class:u([e.fw.internal?"internal":e.fw.beta||e.fw.rc?"beta":"release","fas","fa-circle"])},null,2)])):d("",!0),e.fw.rsr?(s(),i("div",T,n[4]||(n[4]=[t("span",null,"RSR",-1)]))):d("",!0),t("div",{class:"signingStatus",style:g({display:e.options.showSigningStatus?"initial":"none"})},[t("i",{id:`signing-status-${e.fw.osStr}-${e.fw.build}`,class:"fas"},null,8,V),t("span",{id:`signing-text-${e.fw.osStr}-${e.fw.build}`,class:"signingText"},null,8,I)],4)]),e.fw.releasedStr&&e.options.showReleasedString?(s(),i("div",j,r(e.fw.releasedStr),1)):d("",!0)],4),t("div",A,[e.showSingleDownloads?(s(),i(w,{key:0},[e.fw.filteredDownloads.length||e.fw.filteredOtas.length?(s(),i("div",{key:0,onClick:n[0]||(n[0]=l=>c.openDownloadDropdown()),class:"downloadIcon iconChild"},[n[8]||(n[8]=t("a",{style:{cursor:"pointer"}},[t("i",{class:"downloadIcon fas fa-download"})],-1)),t("div",{class:u(["downloadDropdown","custom-container",o.showDownloadDropdown?"active":""]),style:{cursor:"initial"}},[e.fw.filteredDownloads.length?(s(),i(w,{key:0},[n[6]||(n[6]=t("h5",null,"Download",-1)),t("ul",{style:g(`${e.fw.filteredDownloads.length==1?"padding-left: 0; list-style-type: none;":""}`)},[e.fw.filteredDownloads.length==1?(s(),i("li",N,[t("a",{href:e.fw.filteredDownloads[0].url},r(e.fw.filteredDownloads[0].label.slice(0,60))+r(e.fw.filteredDownloads[0].label.length>60?"...":""),9,E)])):(s(!0),i(w,{key:1},m(e.fw.filteredDownloads,l=>(s(),i("li",{key:l},[t("a",{href:l.url},r(l.deviceName),9,R)]))),128))],4)],64)):d("",!0),e.fw.filteredOtas.length?(s(),i(w,{key:1},[n[7]||(n[7]=t("h5",null,"Download (OTA)",-1)),t("ul",{style:g(`${e.fw.filteredOtas.length==1?"padding-left: 0; list-style-type: none;":""}`)},[e.fw.filteredOtas.length==1?(s(),i("li",F,[t("a",{href:e.fw.filteredOtas[0].url},r(e.fw.filteredOtas[0].label.slice(0,60))+r(e.fw.filteredOtas[0].label.length>60?"...":""),9,L)])):(s(!0),i(w,{key:1},m(e.fw.filteredOtas,l=>(s(),i("li",{key:l},[t("a",{href:l.url},r(l.deviceName),9,P)]))),128))],4)],64)):d("",!0)],2)])):e.fw.preinstalled.some(l=>e.fw.devices.includes(l))?(s(),i("div",{key:1,onClick:n[1]||(n[1]=l=>c.openDownloadDropdown()),class:"downloadIcon iconChild"},[n[9]||(n[9]=t("i",{class:"fas fa-box-open"},null,-1)),t("div",{class:u(["downloadDropdown","custom-container",o.showDownloadDropdown?"active":""]),style:{"padding-inline":"1.3em !important","font-weight":"500"}}," Preinstalled firmware ",2)])):d("",!0)],64)):d("",!0),t("div",z,[t("a",q,[t("i",{class:u(["fas",o.expanded?"fa-chevron-down":"fa-chevron-right"])},null,2)])])])]),o.expanded?(s(),i("div",H,[e.fw.releasedStr?(s(),i("div",J,[t("div",M,[t("ul",G,[t("li",U,"Released"+r(e.fw.releasedStr.includes(",")?" on":":")+" "+r(e.fw.releasedStr),1)])])])):d("",!0),o.fwData&&o.fwData.content?(s(),i("div",W,[n[10]||(n[10]=t("h5",null,"Devices",-1)),S(h,{content:o.fwData.content,sectionClass:o.fwData.class+" blue"||""},null,8,["content","sectionClass"]),n[11]||(n[11]=t("br",null,null,-1))])):d("",!0),e.fw.jailbreakArr.length?(s(),i("div",X,[n[12]||(n[12]=t("h5",null,"Jailbreaks",-1)),t("ul",null,[(s(!0),i(w,null,m(e.fw.jailbreakArr,l=>(s(),i("li",{key:l},[S(f,{to:encodeURI(`/jailbreak/${l.replace(/ /g,"-")}.html`)},{default:k(()=>[y(r(l),1)]),_:2},1032,["to"])]))),128))])])):d("",!0),t("div",K,[t("p",null,[t("a",{href:e.fw.url},n[13]||(n[13]=[y("View more "),t("i",{style:{"font-size":"0.8em","padding-left":"2px"},class:"fas fa-arrow-right"},null,-1)]),8,Q)])]),e.options.showTweetButton?(s(),i("div",Y,[t("p",null,[t("a",{href:"https://twitter.com/intent/tweet?text="+encodeURI(`${[e.fw.osStr,e.fw.version].join(" ")}${e.fw.build?" ("+e.fw.build+")":""} has been released. https://appledb.dev${e.fw.url}`),target:"_blank"},n[14]||(n[14]=[t("i",{style:{"margin-right":"8px"},class:"fab fa-twitter"},null,-1),y("Tweet ")]),8,Z)])])):d("",!0)])):d("",!0),o.expanded?d("",!0):(s(),i("div",p))],64)}var te=b(D,[["render",$],["__scopeId","data-v-28743636"],["__file","firmwareVersionTableElement.vue"]]);export{te as default};
